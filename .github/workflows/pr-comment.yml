name: PR Auto Comment

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  comment:
    runs-on: ubuntu-latest
    
    steps:
    - name: Add PR Comment
      uses: actions/github-script@v7
      with:
        script: |
          const { owner, repo, number } = context.issue;
          const pr = await github.rest.pulls.get({
            owner,
            repo,
            pull_number: number,
          });
          
          const comment = `## ğŸš€ PR ìë™ ë¶„ì„ ê²°ê³¼

          **PR ì •ë³´:**
          - **ì œëª©:** ${pr.data.title}
          - **ì‘ì„±ì:** @${pr.data.user.login}
          - **ë¸Œëœì¹˜:** \`${pr.data.head.ref}\` â†’ \`${pr.data.base.ref}\`
          - **ë³€ê²½ëœ íŒŒì¼ ìˆ˜:** ${pr.data.changed_files}ê°œ
          - **ì¶”ê°€ëœ ë¼ì¸:** +${pr.data.additions}
          - **ì‚­ì œëœ ë¼ì¸:** -${pr.data.deletions}

          **ì²´í¬ë¦¬ìŠ¤íŠ¸:**
          - [ ] ì½”ë“œ ë¦¬ë·° ì™„ë£Œ
          - [ ] í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸
          - [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸ (í•„ìš”ì‹œ)
          - [ ] Breaking changes í™•ì¸

          **ì°¸ê³ ì‚¬í•­:**
          - ì´ PRì€ ìë™ìœ¼ë¡œ ë¶„ì„ë˜ì—ˆìŠµë‹ˆë‹¤.
          - ë¦¬ë·°ì–´ëŠ” ì½”ë“œ í’ˆì§ˆê³¼ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.
          - ë³‘í•© ì „ ëª¨ë“  CI ì²´í¬ê°€ í†µê³¼ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.

          ---
          *ìë™ ìƒì„±ëœ ì½”ë©˜íŠ¸ì…ë‹ˆë‹¤. ğŸ¤–*`;

          await github.rest.issues.createComment({
            owner,
            repo,
            issue_number: number,
            body: comment
          }); 