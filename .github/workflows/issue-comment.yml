name: Issue Auto Comment

on:
  issues:
    types: [opened]

jobs:
  comment:
    runs-on: ubuntu-latest
    
    steps:
    - name: Add Issue Welcome Comment
      uses: actions/github-script@v7
      with:
        script: |
          const { owner, repo, number } = context.issue;
          const issue = await github.rest.issues.get({
            owner,
            repo,
            issue_number: number,
          });
          
          const comment = `## ğŸ¯ ì´ìŠˆ ë“±ë¡ ê°ì‚¬í•©ë‹ˆë‹¤!

          **ì´ìŠˆ ì •ë³´:**
          - **ì œëª©:** ${issue.data.title}
          - **ì‘ì„±ì:** @${issue.data.user.login}
          - **ë“±ë¡ì¼:** ${new Date(issue.data.created_at).toLocaleDateString('ko-KR')}

          **ìë™ ë¶„ì„ ê²°ê³¼:**
          ${issue.data.body && issue.data.body.includes('bug') ? 'ğŸ› **ë²„ê·¸ ë¦¬í¬íŠ¸ë¡œ ë¶„ë¥˜ë˜ì—ˆìŠµë‹ˆë‹¤.**' : ''}
          ${issue.data.body && issue.data.body.includes('feature') ? 'âœ¨ **ê¸°ëŠ¥ ìš”ì²­ìœ¼ë¡œ ë¶„ë¥˜ë˜ì—ˆìŠµë‹ˆë‹¤.**' : ''}
          ${issue.data.body && issue.data.body.includes('question') ? 'â“ **ì§ˆë¬¸ìœ¼ë¡œ ë¶„ë¥˜ë˜ì—ˆìŠµë‹ˆë‹¤.**' : ''}

          **ë‹¤ìŒ ë‹¨ê³„:**
          - [ ] ë‹´ë‹¹ì í• ë‹¹
          - [ ] ì ì ˆí•œ ë¼ë²¨ í™•ì¸/ì¶”ê°€
          - [ ] ìš°ì„ ìˆœìœ„ ì„¤ì •
          - [ ] ì˜ˆìƒ ì†Œìš” ì‹œê°„ ê²€í† 

          **ì°¸ê³ ì‚¬í•­:**
          - ì´ìŠˆ í•´ê²°ì„ ìœ„í•´ ì¶”ê°€ ì •ë³´ê°€ í•„ìš”í•œ ê²½ìš° ì½”ë©˜íŠ¸ë¡œ ìš”ì²­ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
          - ë²„ê·¸ì˜ ê²½ìš° ì¬í˜„ ë°©ë²•ê³¼ í™˜ê²½ ì •ë³´ë¥¼ í¬í•¨í•´ì£¼ì‹œë©´ ë„ì›€ì´ ë©ë‹ˆë‹¤.
          - ê¸°ëŠ¥ ìš”ì²­ì˜ ê²½ìš° ì‚¬ìš© ì‚¬ë¡€ì™€ ê¸°ëŒ€ íš¨ê³¼ë¥¼ ì„¤ëª…í•´ì£¼ì‹œë©´ ì¢‹ìŠµë‹ˆë‹¤.

          **ê´€ë ¨ ë¬¸ì„œ:**
          - [ê¸°ì—¬ ê°€ì´ë“œë¼ì¸](docs/)
          - [ì´ìŠˆ í…œí”Œë¦¿](docs/)

          ---
          *ìë™ ìƒì„±ëœ ì½”ë©˜íŠ¸ì…ë‹ˆë‹¤. ğŸ¤–*`;

          await github.rest.issues.createComment({
            owner,
            repo,
            issue_number: number,
            body: comment
          }); 